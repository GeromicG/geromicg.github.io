{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Trellis chart with independent Y-axes for U5MR and Underweight%.",
  "title": {
    "text": "India Trends: U5MR and Underweight%",
    "subtitle": "Data from NFHS surveys",
    "subtitleFontStyle": "italic",
    "subtitleFontSize": 10,
    "anchor": "start",
    "color": "black"
  },
  "data": {
    "url": "https://raw.githubusercontent.com/GeromicG/geromicg.github.io/refs/heads/main/India_Trends_NFHS.csv",
    "format": {"type": "csv"}
  },
  "transform": [
    {
      "filter": {
        "field": "Series",
        "oneOf": ["U5MR", "Underweight%"]
      }
    }
  ],
  "facet": {
    "column": {"field": "Series", "type": "nominal"}
  },
  "spacing": 50,
  "spec": {
    "width": 380,
    "height": 300,
    "layer": [
      {
        "mark": {
          "type": "line",
          "point": {"filled": false, "strokeWidth": 2},
          "strokeWidth": 3,
          "opacity": 0.8
        },
        "encoding": {
          "x": {
            "field": "Year",
            "type": "temporal",
            "title": "Year",
            "axis": {"format": "%Y", "grid": false}
          },
          "y": {
            "field": "Value",
            "type": "quantitative",
            "title": null,
            "axis": {"grid": false}
          },
          "color": {
            "field": "Series",
            "type": "nominal",
            "legend": null
          }
        }
      },
      {
        "mark": {
          "type": "point",
          "filled": true,
          "size": 100,
          "opacity": 0
        },
        "encoding": {
          "x": {"field": "Year", "type": "temporal"},
          "y": {"field": "Value", "type": "quantitative"},
          "tooltip": [
            {"field": "Year", "type": "temporal", "title": "Year", "format": "%Y"},
            {"field": "Series", "type": "nominal", "title": "Indicator"},
            {"field": "Value", "type": "quantitative", "title": "Value", "format": ".1f"}
          ]
        }
      }
    ]
  },
  "resolve": {"scale": {"y": "independent"}}
}
